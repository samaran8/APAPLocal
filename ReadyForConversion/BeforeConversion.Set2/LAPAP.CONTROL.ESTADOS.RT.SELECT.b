*-----------------------------------------------------------------------------
* <Rating>-20</Rating>
*-----------------------------------------------------------------------------
    SUBROUTINE LAPAP.CONTROL.ESTADOS.RT.SELECT
    $INSERT T24.BP I_COMMON
    $INSERT T24.BP I_EQUATE
    $INSERT T24.BP I_BATCH.FILES
    $INSERT BP I_F.ST.LAPAP.CONTROL.ESTADOS
    $INSERT T24.BP I_F.HOLD.CONTROL
    $INSERT LAPAP.BP I_CONTROL.ESTADOS.COMMON

    IF NOT(CONTROL.LIST) THEN
        GOSUB BUILD.CONTROL.LIST

    END
    GOSUB SELECCIONAR
    RETURN

BUILD.CONTROL.LIST:
*******************

    CONTROL.LIST<-1> = "SELECT.HC"
    CONTROL.LIST<-1> = "SELECT.EC"
    RETURN


SELECCIONAR:
    LIST.PARAMETER = ""

    BEGIN CASE
    CASE CONTROL.LIST<1,1> EQ "SELECT.HC"
        LIST.PARAMETER<2> = "F.HOLD.CONTROL"
        LIST.PARAMETER<3> = "REPORT.NAME EQ ACCOUNT.STATEMENT AND BANK.DATE EQ " : TODAY
        CALL OCOMO ("VALOR DEL LISTA HC :" : LIST.PARAMETER)
    CASE CONTROL.LIST<1,1> EQ "SELECT.EC"
        LIST.PARAMETER = ""
        LIST.PARAMETER<2> = "FBNK.ST.LAPAP.CONTROL.ESTADOS"
        LIST.PARAMETER<3> = "BANK.DATE LT " : OLD.DATE
        CALL OCOMO ("VALOR DEL LISTA EC :" : LIST.PARAMETER)
    END CASE
    CALL BATCH.BUILD.LIST(LIST.PARAMETER, "")

    RETURN

END
