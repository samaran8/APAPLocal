*-----------------------------------------------------------------------------
* <Rating>-20</Rating>
*-----------------------------------------------------------------------------
    SUBROUTINE L.APAP.LOAD.CAMPOS
    $INSERT T24.BP I_COMMON
    $INSERT T24.BP I_EQUATE
    $INSERT T24.BP I_F.AA.ARRANGEMENT
    $INSERT BP I_F.ST.L.APAP.COVI.PRELACIONIII

    GOSUB ABRIR.TABLA
    GOSUB GET.INFO
    RETURN
ABRIR.TABLA:
    FN.AA.ARRANGEMENT = 'F.AA.ARRANGEMENT'
    FV.AA.ARRANGEMENT = ''
    CALL OPF (FN.AA.ARRANGEMENT,FV.AA.ARRANGEMENT)
    RETURN

GET.INFO:
    Y.AA = ID.NEW

    CALL F.READ(FN.AA.ARRANGEMENT,Y.AA,R.AA.ARRANGEMENT,FV.AA.ARRANGEMENT,ERROR.ARR.ARRANGEMENT)
    Y.CONTRATO = R.AA.ARRANGEMENT<AA.ARR.LINKED.APPL.ID>
    Y.CONTRATO = CHANGE(Y.CONTRATO,SM,FM)
    Y.CONTRATO = CHANGE(Y.CONTRATO,VM,FM)
    Y.CONTRATO = Y.CONTRATO<1>
    Y.FECHA = TODAY
    Y.HORA = OCONV(TIME(), "MTS")
    R.NEW(ST.L.A76.ARRANGEMENT) = Y.AA
    R.NEW(ST.L.A76.CONTRATO) = Y.CONTRATO
    R.NEW(ST.L.A76.FECHA) = Y.FECHA
    R.NEW(ST.L.A76.HORA) = Y.HORA
    RETURN

END
